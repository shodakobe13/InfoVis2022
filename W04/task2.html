<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>W04: task2</title>
</head>
<body>
<h2>兵庫県コロナ感染者数　(2022/04/03 ~ 2022/04/09)</h2>
<script src="https://d3js.org/d3.v4.min.js"></script>
<script>
    var svg = d3.select("body").append("svg");
    var padding = 10;
    var height = 10;
    d3.csv("https://shodakobe13.github.io/InfoVis2022/W04/w04_task2.csv", draw );
    function draw(data) {
        svg.selectAll("rect").data(data).enter()
            .append("rect")
            .attr("x", padding * 5)
            .attr("y", function(d,i){ return padding + i * ( height + padding ); })
            .attr("width", function(d){ return d.width; })
            .attr("height", height)
            .style("fill", function(d){ return d.color; });

        svg.append("g")
            .selectAll("rect")
            .data(data)
            .enter()
            .append("text") // テキスト要素追加
            .attr("x", function(d) { return 10 + padding; })
            .attr("y", function(d,i){ return padding + i * (  height  + padding ); })
            .attr("dy", 10)
            .text(function(d){ return d.label;})
            .attr("fill", "#999999") // テキストカラー
            .attr("font-size", "12px") // フォントサイズ
            .attr('text-anchor', "middle"); // 文字をセンター寄せ配置
    }
</script>
</body>
</html>